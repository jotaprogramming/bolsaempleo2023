{% extends 'core/base.html' %} {% load static %} {% block title %}
<title>{{app_title}} | {{title_view}}</title>
{% endblock title %} {% block content %}
<section class="my-5">
  {% include 'partials/_display.html' %}
  <div class="row gy-3 mt-3">
    <div class="col-12">
      <button
        type="button"
        class="btn btn-primary btn-center"
        name="createButtons"
        id="{% url 'users_app:rule_add' %}"
      >
        <i class="lni lni-plus"></i>
        <span class="ms-2">Crear</span>
      </button>
    </div>
    <div class="col-12">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th>CÃ³digo</th>
              <th>Aplicaciones</th>
              <th>Roles</th>
              <th>Restricciones</th>
              <th>Estado</th>
              <th>Editar</th>
              <th>Eliminar</th>
            </tr>
          </thead>
          <tbody>
            {% for row in object_list %}
            <tr>
              <td scope="row">{{row.id}}</td>
              <td>{{row.code}}</td>
              <td>{{row.num_apps}}</td>
              <td>{{row.num_roles}}</td>
              <td>{{row.num_restrictions}}</td>
              <td>
                {% if row.deleted_at %}
                Eliminado el {{row.deleted_at}} 
                {% elif row.updated_at %}
                Actualizado el {{row.updated_at}}
                {% else %}
                Creado el {{row.created_at}} 
                {% endif %}
              </td>
              <td>
                <!-- data-bs-toggle="modal"
                                data-bs-target="#userGroupModal" -->
                {% if not row.deleted_at %}
                <button
                  type="button"
                  class="btn btn-outline-primary btn-center"
                  name="editButtons"
                  id="{% url 'users_app:rule_edit' row.id %}"
                >
                    <i class="lni lni-pencil"></i>
                </button>
                {% endif %}
              </td>
              <td>
                {% if not row.deleted_at %}
                <button
                  type="button"
                  class="btn btn-outline-danger btn-center"
                  name="deleteButtons"
                  id="{% url 'users_app:rule_delete' row.id %}"
                >
                  <i class="lni lni-trash-can"></i>
                </button>
                {% endif %}
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
    </div>
  </div>
</section>

{% endblock content %}
